if (self.CavalryLogger) { CavalryLogger.start_js(["Tpk8p"]); }

__d("VideoPlayerQualitiesArray",[],(function(a,b,c,d,e,f){"use strict";var g=720,h=2160;function a(a){return a}function i(a){a=a.length>0?a[a.length-1]:void 0;return a}function j(a){a=a.length>0?a[0]:void 0;return a}function b(a){return a.length>1}function k(a,b){a=i(a);return a!=null&&b!=null&&b===a}function c(a){return a!=null&&(a==="HD"||parseInt(a,10)>=g)}function d(a){return a!=null&&parseInt(a,10)>=h}function f(a,b){var c=j(a),d=i(a);if(k(a,b)){if(c!=null)return c}else if(d!=null)return d;return void 0}e.exports={ensureVideoPlayerQualitiesArray:a,getHighestVideoQuality:i,getLowestVideoQuality:j,getPreferredVideoQualityForToggleHD:f,hasHDVideoQuality:b,isHDSelectedVideoQuality:k,isVideoQualityTypicallyConsideredHD:c,isVideoQualityTypicallyConsideredHD4K:d}}),null);
__d("BaseVideoPlayer.react",["React","SubscriptionsHandler","VideoPlayerQualitiesArray","emptyFunction","once","stylex"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("VideoPlayerQualitiesArray").ensureVideoPlayerQualitiesArray;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),h=0;h<e;h++)f[h]=arguments[h];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={muted:Boolean(d.props.startMuted)},d.$1=g.createRef(),d.$3=null,d.$4=g.createRef(),d.$2=new(b("SubscriptionsHandler"))(),d.$5=function(a){d.props.onUpdate&&d.props.onUpdate(babelHelpers.assertThisInitialized(d)),d.$3!=null&&(d.play(d.$3),d.$3=null)},d.$6=function(a){d.props.onUpdate&&d.props.onUpdate(babelHelpers.assertThisInitialized(d))},d.$7=function(a){a=a.currentTarget;d.state.muted!==a.muted&&d.setState({muted:a.muted})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this.$1.current;a&&a.load()};d.componentWillUnmount=function(){this.$2.release();var a=this.$1.current;a&&a.pause()};d.getAvailableVideoQualities=function(){return h([])};d.setPreferredVideoQuality=function(a){};d.getContainerNode=function(){return this.$4.current};d.getController=function(){return this};d.play=function(a){var b=this.$1.current;b?b.play():this.$3=a};d.pause=function(a){a=this.$1.current;a&&a.pause()};d.mute=function(){this.setState({muted:!0})};d.unmute=function(){this.setState({muted:!1})};d.getPlaybackDuration=function(){var a;return((a=this.$1.current)==null?void 0:a.duration)||0};d.getCurrentTimePosition=function(){var a;return((a=this.$1.current)==null?void 0:a.currentTime)||0};d.addListener=function(){for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];var e=this.$1.current;if(e!=null){e.addEventListener.apply(e,c);var f={remove:b("once")(function(){e.removeEventListener.apply(e,c)})};this.$2.addSubscriptions(f);return f}return{remove:b("emptyFunction")}};d.render=function(){var a=this.props,b=a.autoplay,c=a.controls,d=a.loop;a=a.playableUrl;return g.jsx("div",{className:"k4urcfbm l9j0dhe7 qowsmv63 datstx6m j83agx80",ref:this.$4,children:g.jsx("video",{autoPlay:b,className:"k4urcfbm qowsmv63 datstx6m",controls:c,controlsList:"nodownload",loop:d,muted:this.state.muted,onLoadedData:this.$5,onLoadedMetadata:this.$6,onVolumeChange:this.$7,ref:this.$1,src:a})})};return c}(g.PureComponent);a.defaultProps={autoplay:!1,controls:!0,loop:!1,startMuted:!1};e.exports=a}),null);
__d("CometStarRatingSingleStar.react",["ix","CometTintedIcon.react","React","fbicon"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){var c=i(a.size);return h.jsx(b("CometTintedIcon.react"),{color:a.color,icon:c})}function i(a){switch(a){case 12:return b("fbicon")._(g("479321"),12);case 16:return b("fbicon")._(g("479324"),16);case 20:return b("fbicon")._(g("479327"),20);case 24:return b("fbicon")._(g("479330"),24);case 32:return b("fbicon")._(g("660688"),32);default:return b("fbicon")._(g("479327"),20)}}e.exports=a}),null);
__d("CometMarketplaceHiddenItemOverlay.react",["ix","CometImage.react","React","TetraText.react","asset","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){return h.jsxs("div",{className:"k4urcfbm oqcyycmt pmk7jnqg dati1w0a ihqw7lf3 hv4rvrfc discj3wi kgtf8isp pdlg2rys taijpn5t datstx6m cbu4d94t j83agx80 s8bbyrx9 bp9cbjyn",children:[h.jsx(b("CometImage.react"),{src:g("566725")}),h.jsx("div",{className:"discj3wi",children:h.jsx(b("TetraText.react"),{color:"white",type:"bodyLink3",children:a.label})})]})}e.exports=a}),null);
__d("CometMarketplacePhotoCarousel.react",["fbt","BaseVideoPlayer.react","CometBlurredBackgroundImage.react","CometImage.react","CometKeys","CometMarketplaceHiddenItemOverlay.react","CometTheme.react","MarketplacePDPMediaViewerSetImageContext","React","stylex","useLayerKeyCommands","useResizeObserver"],(function(a,b,c,d,e,f,g){"use strict";var h=b("MarketplacePDPMediaViewerSetImageContext").SetImageContext,i=b("React");c=b("React");var j=c.useCallback,k=c.useContext,l=c.useMemo,m=c.useState,n=g._("Previous photo"),o=g._("Next photo"),p=.75;function q(a,b){var c=b[0];b=b[1];var d=a.width,e=a.height;if(a.mediaType!=="video"&&Boolean(a.isUseImageResizing)){a=c/d;var f=b/e;f=Math.min(f,a);return[d*f*p,e*f*p]}if(e<1||d<1)return[1,1];a=Math.min(d,c)/d;f=Math.min(e,b)/e;c=Math.min(f,a);return[d*c,e*c]}function a(a){var c=k(h),d=c.imageIndex,e=c.setImageIndex;(d>=a.images.length||d<0)&&e(0);c=m(null);var f=c[0],p=c[1];c=m(null);var r=c[0],s=c[1],t=(c=a.images[d])!=null?c:a.images[0];c=b("useResizeObserver")(function(a){if(t==null||t.width<1)return;a=[a.width,a.height];var b=q(t,a);p(a);s(b)});var u=j(function(){var b=(d+1)%a.images.length;e(b);f!=null&&s(q(a.images[b],f))},[d,f,a.images,e]),v=j(function(){var b=a.images.length;b=(d-1+b)%b;e(b);f!=null&&s(q(a.images[b],f))},[d,f,a.images,e]),w=j(function(b){if(b<0||b>a.images.length-1)return;e(b);f!=null&&s(q(a.images[b],f))},[f,a.images,e]),x=l(function(){return[{command:{key:b("CometKeys").LEFT},description:n,handler:v},{command:{key:b("CometKeys").RIGHT},description:o,handler:u}]},[v,u]),y=a.arrowFactory(v,u),z=y[0];y=y[1];var A=r?r[0]:null;r=r?r[1]:null;var B=t.backgroundColor!=null?{backgroundColor:t.backgroundColor}:null;b("useLayerKeyCommands")(x);if(t==null||t.width<1||t.height<1)return null;x=null;switch(t.mediaType){case"video":x=i.jsx(b("BaseVideoPlayer.react"),{autoplay:!0,playableUrl:t.uri,subOrigin:"media_viewer"});break;case"image":default:r!=null&&A!=null&&t!=null&&Boolean(t.uri)&&(x=i.jsx(b("CometImage.react"),{alt:t.alt,height:r,src:t.uri,width:A}));break}return i.jsxs("div",{className:"k4urcfbm abiwlrkh l9j0dhe7 taijpn5t datstx6m buofh1pr cbu4d94t j83agx80 tqsryivl bp9cbjyn",style:B,children:[t.mediaType!=="video"&&(Boolean(t.isUseImageResizing)||!Boolean(t.uri))?null:i.jsx("div",{className:"kr520xx4 j9ispegn pmk7jnqg kgtf8isp n7fi1qx3 i09qtzwb",children:t!=null&&t.uri!==""&&i.jsx(b("CometBlurredBackgroundImage.react"),{src:t.uri})}),i.jsx("div",{className:"du4w35lb k4urcfbm stjgntxs ni8dbmo4 taijpn5t buofh1pr j83agx80 bp9cbjyn",ref:c,children:x}),i.jsx("div",{className:"du4w35lb giggcyz0",children:a.footerFactory(d,w)}),a.images.length>1&&i.jsxs(i.Fragment,{children:[i.jsx(b("CometTheme.react"),{className:"du4w35lb hoqoy4am pmk7jnqg ax37mqq2",element:"div",theme:"light",children:z}),i.jsx(b("CometTheme.react"),{className:"du4w35lb hoqoy4am pmk7jnqg oqnctjl6",element:"div",theme:"light",children:y})]}),a.isHidden===!0?i.jsx(b("CometMarketplaceHiddenItemOverlay.react"),{label:g._("You won't see this item on Marketplace.")}):null]})}e.exports=a}),null);
__d("CometMediaViewerFilmstrip.react",["ix","fbt","CometBackgroundImage.react","CometImage.react","CometPressable.react","CometThrottle","Locale","React","TetraIcon.react","fbicon","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("React");c=b("React");var k=c.useEffect,l=c.useRef,m=c.useState;d=36;f=6;var n=d+f*2,o={imageInner:{height:"datstx6m",objectFit:"r0294ipz",overflowX:"ni8dbmo4",overflowY:"stjgntxs",width:"k4urcfbm"},root:{alignItems:"bp9cbjyn",display:"j83agx80",height:"tv7at329",paddingTop:"cxgpxx05",paddingBottom:"sj5x9vvc",transitionDuration:"pc15xi3s",transitionProperty:"flx89l3n",transitionTimingFunction:"eloblzlw",whiteSpace:"g0qnabr5"},thumbnail:{cursor:"nhd2j8a9",height:"tv7at329",width:"thwo4zme"},thumbnailContainer:{borderTopStartRadius:"beltcj47",borderTopEndRadius:"p86d2i9g",borderBottomEndRadius:"aot14ch1",borderBottomStartRadius:"kzx2olss",display:"q9uorilb",flexShrink:"pfnyh3mw",height:"tv7at329",marginEnd:"fv0vnmcu",marginStart:"ggphbty4",overflowX:"ni8dbmo4",overflowY:"stjgntxs",width:"thwo4zme"},thumbnailNonActive:{opacity:"ggwglk7f",":hover":{opacity:"oecfc0l4"}},videoIcon:{alignItems:"bp9cbjyn",display:"j83agx80",height:"bipmatt0",justifyContent:"taijpn5t",position:"pmk7jnqg",width:"iyyx5f41"}};function p(a){var c=a.image.mediaType!=="video"&&Boolean(a.image.isUseImageResizing)?{backgroundColor:a.image.backgroundColor}:{},d=a.image.mediaType!=="video"?a.image.uri:a.image.thumbnailUri;return j.jsx("div",{className:(i||(i=b("stylex")))(o.thumbnailContainer),children:j.jsx(b("CometPressable.react"),{display:"inline",label:h._("Thumbnail {index}",[h._param("index",a.index)]),onPress:a.onClick,overlayDisabled:!0,children:j.jsxs("div",{className:i(o.thumbnail,a.active!==!0?o.thumbnailNonActive:null),style:c,children:[a.image.mediaType==="video"?j.jsx("div",{className:(i||(i=b("stylex")))(o.videoIcon),children:j.jsx(b("TetraIcon.react"),{color:"white",icon:b("fbicon")._(g("507224"),12)})}):null,a.image.mediaType!=="video"&&Boolean(a.image.isUseImageResizing)?j.jsx(b("CometImage.react"),{src:d,xstyle:o.imageInner}):j.jsx(b("CometBackgroundImage.react"),{src:d})]})})})}function a(a){var c=m(0),d=c[0],e=c[1],f=l(null),g=l(null),h=l(null);k(function(){function c(){if(f.current!=null){var b=f.current,c=b.offsetWidth;b=b.scrollWidth;var g=h.current;if(b===c)return;b=-d/n;var i=Math.floor((c+-d)/n),j=b+Math.floor((i-b)/2);if(g!=null){if(a.activeIndex>g&&(a.activeIndex<j||i===a.images.length)){h.current=a.activeIndex;return}if(a.activeIndex<g&&(a.activeIndex>j||b===0)){h.current=a.activeIndex;return}}j=d-(a.activeIndex-((i=g)!=null?i:0))*n;j=Math.min(0,j);j=Math.max(Math.floor(c-a.images.length*n),j);h.current=a.activeIndex;e(j)}}c();g.current!=null&&window.removeEventListener("resize",g.current);c=b("CometThrottle")(c,100);g.current=c;window.addEventListener("resize",c);return function(){g.current!=null&&window.removeEventListener("resize",g.current)}},[a.images,a.activeIndex,d]);return a.images.length<2?null:j.jsx("div",{className:(i||(i=b("stylex")))(o.root),ref:f,style:{transform:"translate3d("+(b("Locale").isRTL()?-d:d)+"px, 0, 0)"},children:a.images.map(function(b,c){return j.jsx(p,{active:a.activeIndex===c,image:b,index:c,onClick:function(b){a.onSetImage(c)}},"thumbnail_"+c)})})}e.exports=a}),null);
__d("MarketplacePDPBaseMediaViewer.react",["ix","fbt","CometMarketplacePhotoCarousel.react","CometMediaViewerFilmstrip.react","Locale","React","TetraCircleButton.react","fbicon","useMatchDesktopLayout"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("Locale").isRTL,j=b("React");function a(a){var c=a.images,d=b("useMatchDesktopLayout")(),e=i();if(c.length===0)return null;function f(a,d){return j.jsx(b("CometMediaViewerFilmstrip.react"),{activeIndex:a,images:c,onSetImage:d})}function k(a,c){return d?[j.jsx(b("TetraCircleButton.react"),{color:"secondary",icon:e?b("fbicon")._(g("492539"),24):b("fbicon")._(g("492491"),24),label:h._("View previous image"),onPress:a,size:48,type:"overlay"}),j.jsx(b("TetraCircleButton.react"),{color:"secondary",icon:e?b("fbicon")._(g("492491"),24):b("fbicon")._(g("492539"),24),label:h._("View next image"),onPress:c,size:48,type:"overlay"})]:[null,null]}return j.jsx(b("CometMarketplacePhotoCarousel.react"),{arrowFactory:k,footerFactory:f,images:c,isHidden:a.isHidden})}e.exports=a}),null);
__d("MarketplacePDPC2CAttributesComponent.react",["CometPlaceholder.react","CometRelay","MarketplaceComposerAttributesSectionQuery.graphql","MarketplacePDPContext","MarketplacePDPPreviewDisabledWrapper.react","React","TetraText.react","TetraTextPairing.react","cometMarketplacePDPUtils","marketplaceComposerDispatchers","stylex"],(function(a,b,c,d,e,f){"use strict";var g=b("CometRelay").useLazyLoadQuery,h=b("MarketplacePDPContext").usePDPContext,i=b("React"),j=b("cometMarketplacePDPUtils").getPreviewTextColor,k=b("marketplaceComposerDispatchers").useMarketplaceComposerC2CViewState,l=b("marketplaceComposerDispatchers").usePDPPreviewConfig;function m(a){var c=a.index,d=a.label;a=a.name;var e=k();e=e.attributes;e=l(e);var f=e.isGrayedOut;e=e.isHovered;return i.jsx(b("MarketplacePDPPreviewDisabledWrapper.react"),{element:"li",shouldGrayOut:f&&!e,children:i.jsxs("div",{className:"a8nywdso f10w8fjw rz4wbd8a pybr56ya i1fnvgqd j83agx80 ll8tlv6m"+(c!==0?" kjdn3f0s":""),justify:"all",children:[i.jsx("span",{className:"n99xedck ph5uu5jm",children:i.jsx(b("TetraTextPairing.react"),{body:i.jsx(b("TetraText.react"),{color:j(e),type:"bodyLink3",children:a}),level:3})}),i.jsx("span",{className:"n99xedck ftzlm3b6 b3onmgus",children:i.jsx(b("TetraTextPairing.react"),{body:i.jsx(b("TetraText.react"),{color:j(e),type:"body3",children:d}),level:3})})]},a)})}function n(a){var c=k();c=c.selectedCategory;c=c.value;c=g(b("MarketplaceComposerAttributesSectionQuery.graphql"),{categoryID:c},{fetchPolicy:"store-only"});var d=[];c=(c=c==null?void 0:(c=c.viewer)==null?void 0:c.marketplace_composer_attribute_definitions)!=null?c:a.attributes;c!=null&&(d=c.map(function(b){var c=a.attributes.find(function(a){a=a.attribute_name;return a===b.attribute_name});return(c=c)!=null?c:{attribute_name:b.attribute_name,label:"\u2014",value:b.attribute_name}}));return a.children(d)}function o(a){return a.children(a.attributes)}function p(a){var b=h();b=b.isPreview;b=b===void 0?!1:b;b=b?n:o;return i.jsx(b,{attributes:a.attributes,children:function(a){return i.jsx("ul",{children:a.map(function(a,b){var c=a==null?void 0:a.attribute_name;a=a==null?void 0:a.label;return c==null||a==null?null:i.jsx(m,{index:b,label:a,name:c},c)})})}})}e.exports=function(a){return i.jsx(b("CometPlaceholder.react"),{fallback:i.jsx("span",{}),children:i.jsx(p,babelHelpers["extends"]({},a))})}}),null);
__d("MarketplacePDPLocationTextComponent.react",["fbt","MarketplacePDPPreviewDisabledWrapper.react","React","TetraText.react","TetraTextPairing.react","cometMarketplacePDPUtils","marketplaceComposerDispatchers","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("cometMarketplacePDPUtils").getPreviewBodyColor,j=b("cometMarketplacePDPUtils").getPreviewMetaColor,k=b("marketplaceComposerDispatchers").useMarketplaceComposerCommonViewState,l=b("marketplaceComposerDispatchers").usePDPPreviewConfig;function a(a){var c=k();c=c.location;c=l(c);var d=c.isGrayedOut;c=c.isHovered;return h.jsx("div",{className:"hcukyx3x n851cfcs cxmmr5t8 n1l5q3vz",children:h.jsx(b("MarketplacePDPPreviewDisabledWrapper.react"),{shouldGrayOut:d&&!c,children:h.jsx(b("TetraTextPairing.react"),{body:h.jsx(b("TetraText.react"),{color:i(c,"primary"),type:"bodyLink3",children:d?g._("Location"):a.location}),level:3,meta:h.jsx(b("TetraText.react"),{color:j(c),type:"meta3",children:g._("Location is approximate")})})})})}e.exports=a}),null);
__d("MWChatMessageId.re",["bs_curry","MWChatMessageId.bs"],(function(a,b,c,d,e,f){a=b("MWChatMessageId.bs").getMessageId;f.getMessageId=a;c=b("MWChatMessageId.bs").getThreadId;f.getThreadId=c;d=function(a,c,d){a=b("bs_curry")._3(b("MWChatMessageId.bs").makeSent,a,c,d);return a};f.makeSent=d}),null);
__d("VideoPlayerShakaPerformanceTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("vpsp_proxy:VideoPlayerShakaPerformanceLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("vpsp_proxy:VideoPlayerShakaPerformanceLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("vpsp_proxy:VideoPlayerShakaPerformanceLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAccessToken=function(a){this.$1.access_token=a;return this};c.setAdditionalBufferedRanges=function(a){this.$1.additional_buffered_ranges=a;return this};c.setAppendedBufferMs=function(a){this.$1.appended_buffer_ms=a;return this};c.setBandwidthEstimate=function(a){this.$1.bandwidth_estimate=a;return this};c.setClientTimeBegin=function(a){this.$1.client_time_begin=a;return this};c.setClientTimeEnd=function(a){this.$1.client_time_end=a;return this};c.setCode=function(a){this.$1.code=a;return this};c.setConcluder=function(a){this.$1.concluder=a;return this};c.setConnectionQualityLevel=function(a){this.$1.connection_quality_level=a;return this};c.setContentLengthHeader=function(a){this.$1.content_length_header=a;return this};c.setDevicePixelRatioFloat=function(a){this.$1.device_pixel_ratio_float=a;return this};c.setDroppedFrames=function(a){this.$1.dropped_frames=a;return this};c.setDynamicBitrate=function(a){this.$1.dynamic_bitrate=a;return this};c.setEdgeHitHeader=function(a){this.$1.edge_hit_header=a;return this};c.setEnded=function(a){this.$1.ended=a;return this};c.setError=function(a){this.$1.error=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setExpectedLength=function(a){this.$1.expected_length=a;return this};c.setInitiator=function(a){this.$1.initiator=a;return this};c.setIsDrm=function(a){this.$1.is_drm=a;return this};c.setIsLive=function(a){this.$1.is_live=a;return this};c.setIsMuted=function(a){this.$1.is_muted=a;return this};c.setIsPageVisible=function(a){this.$1.is_page_visible=a;return this};c.setIsServableViaFbms=function(a){this.$1.is_servable_via_fbms=a;return this};c.setIsTemplatedManifest=function(a){this.$1.is_templated_manifest=a;return this};c.setLastBufferedEnd=function(a){this.$1.last_buffered_end=a;return this};c.setLastBufferedStart=function(a){this.$1.last_buffered_start=a;return this};c.setLastBufferingEventEndTime=function(a){this.$1.last_buffering_event_end_time=a;return this};c.setLastPlayingEventTime=function(a){this.$1.last_playing_event_time=a;return this};c.setLength=function(a){this.$1.length=a;return this};c.setLiveheadDelta=function(a){this.$1.livehead_delta=a;return this};c.setLiveheadSeqNum=function(a){this.$1.livehead_seq_num=a;return this};c.setLogicalCpuCount=function(a){this.$1.logical_cpu_count=a;return this};c.setLowestQualityRepresentationID=function(a){this.$1.lowest_quality_representation_id=a;return this};c.setManifestType=function(a){this.$1.manifest_type=a;return this};c.setMediastreamEventCount=function(a){this.$1.mediastream_event_count=a;return this};c.setOriginHitHeader=function(a){this.$1.origin_hit_header=a;return this};c.setParentID=function(a){this.$1.parent_id=a;return this};c.setPlayerInstanceCount=function(a){this.$1.player_instance_count=a;return this};c.setPlayerOriginCallerSpecified=function(a){this.$1.player_origin_caller_specified=a;return this};c.setPlayerSuborigin=function(a){this.$1.player_suborigin=a;return this};c.setPlayerVersion=function(a){this.$1.player_version=a;return this};c.setPlayhead=function(a){this.$1.playhead=a;return this};c.setPreloadTime=function(a){this.$1.preload_time=a;return this};c.setPreviousRepresentationID=function(a){this.$1.previous_representation_id=a;return this};c.setPriorityFloat=function(a){this.$1.priority_float=a;return this};c.setPushed=function(a){this.$1.pushed=a;return this};c.setReason=function(a){this.$1.reason=a;return this};c.setRepresentationID=function(a){this.$1.representation_id=a;return this};c.setRescheduleCount=function(a){this.$1.reschedule_count=a;return this};c.setResource=function(a){this.$1.resource=a;return this};c.setResult=function(a){this.$1.result=a;return this};c.setScriptPath=function(a){this.$1.script_path=a;return this};c.setSegmentCount=function(a){this.$1.segment_count=a;return this};c.setSegmentEndTime=function(a){this.$1.segment_end_time=a;return this};c.setSegmentStartTime=function(a){this.$1.segment_start_time=a;return this};c.setSegmentTimeGap=function(a){this.$1.segment_time_gap=a;return this};c.setSequentialID=function(a){this.$1.sequential_id=a;return this};c.setSession=function(a){this.$1.session=a;return this};c.setState=function(a){this.$1.state=a;return this};c.setStreamSwitchReason=function(a){this.$1.stream_switch_reason=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setTimeBetweenBytesMax=function(a){this.$1.time_between_bytes_max=a;return this};c.setTimeSinceMainThreadAvailable=function(a){this.$1.time_since_main_thread_available=a;return this};c.setTimeToFirstByte=function(a){this.$1.time_to_first_byte=a;return this};c.setTimeToLastByte=function(a){this.$1.time_to_last_byte=a;return this};c.setTimeToRequestSent=function(a){this.$1.time_to_request_sent=a;return this};c.setTimeToRequestStart=function(a){this.$1.time_to_request_start=a;return this};c.setTotalFrames=function(a){this.$1.total_frames=a;return this};c.setType=function(a){this.$1.type=a;return this};c.setUpdatePeriod=function(a){this.$1.update_period=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setVideoDuration=function(a){this.$1.video_duration=a;return this};c.setVideoID=function(a){this.$1.video_id=a;return this};c.setVideoPlaybackExperienceIssue=function(a){this.$1.video_playback_experience_issue=a;return this};c.setWasDelayed=function(a){this.$1.was_delayed=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={access_token:!0,additional_buffered_ranges:!0,appended_buffer_ms:!0,bandwidth_estimate:!0,client_time_begin:!0,client_time_end:!0,code:!0,concluder:!0,connection_quality_level:!0,content_length_header:!0,device_pixel_ratio_float:!0,dropped_frames:!0,dynamic_bitrate:!0,edge_hit_header:!0,ended:!0,error:!0,event:!0,expected_length:!0,initiator:!0,is_drm:!0,is_live:!0,is_muted:!0,is_page_visible:!0,is_servable_via_fbms:!0,is_templated_manifest:!0,last_buffered_end:!0,last_buffered_start:!0,last_buffering_event_end_time:!0,last_playing_event_time:!0,length:!0,livehead_delta:!0,livehead_seq_num:!0,logical_cpu_count:!0,lowest_quality_representation_id:!0,manifest_type:!0,mediastream_event_count:!0,origin_hit_header:!0,parent_id:!0,player_instance_count:!0,player_origin_caller_specified:!0,player_suborigin:!0,player_version:!0,playhead:!0,preload_time:!0,previous_representation_id:!0,priority_float:!0,pushed:!0,reason:!0,representation_id:!0,reschedule_count:!0,resource:!0,result:!0,script_path:!0,segment_count:!0,segment_end_time:!0,segment_start_time:!0,segment_time_gap:!0,sequential_id:!0,session:!0,state:!0,stream_switch_reason:!0,time:!0,time_between_bytes_max:!0,time_since_main_thread_available:!0,time_to_first_byte:!0,time_to_last_byte:!0,time_to_request_sent:!0,time_to_request_start:!0,total_frames:!0,type:!0,update_period:!0,vc:!0,video_duration:!0,video_id:!0,video_playback_experience_issue:!0,was_delayed:!0,weight:!0};e.exports=a}),null);
__d("ExtendableVideoPlayerShakaPerformanceTypedLogger",["VideoPlayerShakaPerformanceLoggerConfig","VideoPlayerShakaPerformanceTypedLogger"],(function(a,b,c,d,e,f){"use strict";function g(a){typeof a==="number"&&(a=Math.floor(a));return a}var h=!1;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.isEnabled=function(){return c.$ExtendableVideoPlayerShakaPerformanceTypedLogger4()||c.$ExtendableVideoPlayerShakaPerformanceTypedLogger5()};c.enable=function(){h=!0};c.$ExtendableVideoPlayerShakaPerformanceTypedLogger4=function(){return b("VideoPlayerShakaPerformanceLoggerConfig").isSampled};c.$ExtendableVideoPlayerShakaPerformanceTypedLogger5=function(){return h};var d=c.prototype;d.log=function(){c.isEnabled()&&a.prototype.log.call(this)};d.setState=function(b){this.$ExtendableVideoPlayerShakaPerformanceTypedLogger1=b;return a.prototype.setState.call(this,b)};d.getState=function(){return this.$ExtendableVideoPlayerShakaPerformanceTypedLogger1};d.setType=function(b){this.$ExtendableVideoPlayerShakaPerformanceTypedLogger3=b;return a.prototype.setType.call(this,b)};d.getType=function(){return this.$ExtendableVideoPlayerShakaPerformanceTypedLogger3};d.setSequentialID=function(b){this.$ExtendableVideoPlayerShakaPerformanceTypedLogger2=b;a.prototype.setSequentialID.call(this,b);return this};d.setParentLogger=function(a){this.setParentID(a.$ExtendableVideoPlayerShakaPerformanceTypedLogger2);return this};d.setSegmentEndTime=function(b){a.prototype.setSegmentEndTime.call(this,g(b));return this};d.setSegmentTimeGap=function(b){a.prototype.setSegmentTimeGap.call(this,g(b));return this};d.setSegmentStartTime=function(b){a.prototype.setSegmentStartTime.call(this,g(b));return this};return c}(b("VideoPlayerShakaPerformanceTypedLogger"));e.exports=a}),null);
__d("VideoPlayerMainThreadAvailability",["VideoPlayerShakaGlobalConfig","Visibility","nativeRequestAnimationFrame","performanceNow","requestAnimationFrame","requestIdleCallback"],(function(a,b,c,d,e,f){"use strict";var g,h=window.__fbNativeSetTimeout,i=a.__fbNativeClearTimeout,j=window.requestIdleCallback,k=window.cancelIdleCallback,l=function(a){var b=function b(){a(b)};return b},m=function(a,b){var c=function c(){a(c,b)};return c},n=function(a,b){var c=function c(){a(c,b)};return c};c=function(){function a(){this.$1=!1,this.$2=null,this.$3=null,this.$4=null}var c=a.prototype;c.enable=function(){if(this.$1||!this.$5())return;this.$6();this.$7();this.$1=!0};c.getTimeSinceMainThreadAvailable=function(){return this.$2!=null?(g||(g=b("performanceNow")))()-Number(this.$2):null};c.$8=function(){this.$2=b("Visibility").isHidden()?null:(g||(g=b("performanceNow")))()};c.$9=function(){this.$2=null,typeof this.$4==="number"&&(k(this.$4),this.$4=null),typeof this.$3==="number"&&(i(this.$3),this.$3=null)};c.$7=function(){b("VideoPlayerShakaGlobalConfig").getBool("use_settimeout_for_main_thread_available",!1)?this.$10():this.$11()};c.$6=function(){var a=this,c;(c=b("Visibility")).addListener(c.VISIBLE,function(){a.$9(),a.$7()});c.addListener(c.HIDDEN,function(){a.$9()})};c.$10=function(){var a=this,c=b("VideoPlayerShakaGlobalConfig").getNumber("settimeout_polling_delay",-1);if(c>-1){var d=function b(){a.$8(),a.$3=h(b,c)};h(d,c)}};c.$11=function(){var a=this,c=b("VideoPlayerShakaGlobalConfig").getNumber("recursive_ric_timeout",-1),d;c>-1&&(d={timeout:c});c=function c(e){a.$8(),a.$4=b("requestIdleCallback")(c,d)};b("requestIdleCallback")(c,d)};c.$5=function(){return b("Visibility").isSupported()&&typeof j==="function"&&typeof k==="function"&&typeof h==="function"&&typeof i==="function"};c.maybeEnablePerformanceTest=function(){var a,c,d=b("VideoPlayerShakaGlobalConfig").getNumber("recursive_ric_timeout",-1);d>-1&&(c={timeout:d});b("VideoPlayerShakaGlobalConfig").getBool("enable_recursive_raf",!1)&&(a=l(b("requestAnimationFrame")));b("VideoPlayerShakaGlobalConfig").getBool("enable_recursive_ric",!1)&&(a=m(b("requestIdleCallback"),c));b("VideoPlayerShakaGlobalConfig").getBool("enable_recursive_native_raf",!1)&&typeof b("nativeRequestAnimationFrame")==="function"&&(a=l(b("nativeRequestAnimationFrame")));b("VideoPlayerShakaGlobalConfig").getBool("enable_recursive_native_ric",!1)&&typeof j==="function"&&(a=m(j,c));d=b("VideoPlayerShakaGlobalConfig").getNumber("recursive_native_settimeout_delay",-1);d>-1&&typeof h==="function"&&(a=n(h,d));a&&a()};return a}();e.exports=new c()}),null);
__d("VideoPlayerShakaPerformanceLogger",["ExtendableVideoPlayerShakaPerformanceTypedLogger","ScriptPath","VideoPlaybackQuality","VideoPlayerMainThreadAvailability","VideoPlayerShakaGlobalConfig","VideoPlayerShakaPerformanceLoggerConfig","Visibility","clearTimeout","oz-player/loggings/OzPerfLoggerProviderBase","oz-player/utils/OzError","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";var g=b("VideoPlaybackQuality").getDroppedFrames,h=b("VideoPlaybackQuality").getTotalFrames,i=9e4;b("VideoPlayerMainThreadAvailability").maybeEnablePerformanceTest();a=function(a){babelHelpers.inheritsLoose(c,a);c.shouldInitialize=function(){return b("VideoPlayerShakaPerformanceLoggerConfig").isSampled||b("VideoPlayerShakaGlobalConfig").getBool("enable_spl_when_unsampled",!1)};c.setVideoPlaybackExperienceIssue=function(a){c.$VideoPlayerShakaPerformanceLogger25=a,b("VideoPlayerShakaGlobalConfig").getBool("enable_spl_after_submitted_playback_issue",!1)&&(b("ExtendableVideoPlayerShakaPerformanceTypedLogger").enable(),c.maybeEnableMainThreadAvailabilityLogging())};function c(b){var d;d=a.call(this)||this;d.$VideoPlayerShakaPerformanceLogger12=!1;d.$VideoPlayerShakaPerformanceLogger22=0;d.$VideoPlayerShakaPerformanceLogger23=0;d.$VideoPlayerShakaPerformanceLogger21=b;d.$VideoPlayerShakaPerformanceLogger2=b.videoID;d.$VideoPlayerShakaPerformanceLogger4=b.video;d.$VideoPlayerShakaPerformanceLogger1=b.uniqueID;d.$VideoPlayerShakaPerformanceLogger3=0;d.$VideoPlayerShakaPerformanceLogger10=b.isLive;d.$VideoPlayerShakaPerformanceLogger11=b.isServableViaFbms;d.$VideoPlayerShakaPerformanceLogger8=null;d.$VideoPlayerShakaPerformanceLogger13=b.accessToken;d.$VideoPlayerShakaPerformanceLogger14=b.playerOrigin;d.$VideoPlayerShakaPerformanceLogger15=b.playerSuborigin;d.$VideoPlayerShakaPerformanceLogger16=b.playerVersion;d.$VideoPlayerShakaPerformanceLogger24=b.getBandwidthEstimate;d.setRepresentationID(b.representationId);d.$VideoPlayerShakaPerformanceLogger26=b.isDrm;d.$VideoPlayerShakaPerformanceLogger27={};d.$VideoPlayerShakaPerformanceLogger28=(b=b.playerInstanceCount)!=null?b:null;c.maybeEnableMainThreadAvailabilityLogging();return d}c.maybeEnableMainThreadAvailabilityLogging=function(){b("VideoPlayerShakaGlobalConfig").getBool("enable_main_thread_availability_logging",!1)&&b("ExtendableVideoPlayerShakaPerformanceTypedLogger").isEnabled()&&b("VideoPlayerMainThreadAvailability").enable()};var d=c.prototype;d.$VideoPlayerShakaPerformanceLogger29=function(a){var b=this.$VideoPlayerShakaPerformanceLogger4.buffered;if(b.length>0){var c=b.length-1;a=a.setLastBufferedStart(Math.round(b.start(c)*1e3)).setLastBufferedEnd(Math.round(b.end(c)*1e3))}c=[];for(var d=0;d<b.length-1;d++){var e=Math.round(this.$VideoPlayerShakaPerformanceLogger4.buffered.start(d)*1e3),f=Math.round(this.$VideoPlayerShakaPerformanceLogger4.buffered.end(d)*1e3);c.push([e,f])}c&&c.length&&(a=a.setAdditionalBufferedRanges(JSON.stringify(c)));return a};d.setType=function(a){this.$VideoPlayerShakaPerformanceLogger20=a;return this};d.createLoggerProvider=function(){return new self(this.$VideoPlayerShakaPerformanceLogger21)};d.getLiveheadDelta=function(){return this.$VideoPlayerShakaPerformanceLogger8?Math.round((this.$VideoPlayerShakaPerformanceLogger8-this.$VideoPlayerShakaPerformanceLogger4.currentTime)*1e3):null};d.getVideoID=function(){return this.$VideoPlayerShakaPerformanceLogger2};d.setIsTemplatedManifest=function(a){this.$VideoPlayerShakaPerformanceLogger12=a};d.$VideoPlayerShakaPerformanceLogger30=function(){return this.$VideoPlayerShakaPerformanceLogger12};d.getEventLogger=function(a){var d=this,e=Date.now(),f=new(b("ExtendableVideoPlayerShakaPerformanceTypedLogger"))(),i=this.$VideoPlayerShakaPerformanceLogger4.currentTime,j=this.$VideoPlayerShakaPerformanceLogger4.duration,k=this.$VideoPlayerShakaPerformanceLogger24(this.$VideoPlayerShakaPerformanceLogger10);this.$VideoPlayerShakaPerformanceLogger29(f).setEvent(a).setVideoID(this.$VideoPlayerShakaPerformanceLogger2).setDroppedFrames(g(this.$VideoPlayerShakaPerformanceLogger4)).setTotalFrames(h(this.$VideoPlayerShakaPerformanceLogger4)).setDynamicBitrate(this.$VideoPlayerShakaPerformanceLogger19).setLogicalCpuCount(navigator&&navigator.hardwareConcurrency).setPlayerOriginCallerSpecified(this.$VideoPlayerShakaPerformanceLogger14).setScriptPath(b("ScriptPath").getScriptPath()).setPlayerSuborigin(this.$VideoPlayerShakaPerformanceLogger15).setPlayerVersion(this.$VideoPlayerShakaPerformanceLogger16).setBandwidthEstimate(k==null?null:Math.round(k)).setRepresentationID(this.getRepresentationID()).setLowestQualityRepresentationID(this.$VideoPlayerShakaPerformanceLogger18).setPlayhead(Math.round(i*1e3)).setVideoDuration(Math.round(j*1e3)).setEnded(this.$VideoPlayerShakaPerformanceLogger4.ended).setIsLive(this.$VideoPlayerShakaPerformanceLogger10).setIsServableViaFbms(this.$VideoPlayerShakaPerformanceLogger11).setIsMuted(this.$VideoPlayerShakaPerformanceLogger4.muted).setIsPageVisible(!b("Visibility").isHidden()).setIsTemplatedManifest(this.$VideoPlayerShakaPerformanceLogger30()).setSession(this.$VideoPlayerShakaPerformanceLogger1).setDevicePixelRatioFloat(window.devicePixelRatio||1).setManifestType(this.$VideoPlayerShakaPerformanceLogger17).setLiveheadSeqNum(this.$VideoPlayerShakaPerformanceLogger9).setSequentialID(this.$VideoPlayerShakaPerformanceLogger3++).setState(this.$VideoPlayerShakaPerformanceLogger5).setLastBufferingEventEndTime(this.$VideoPlayerShakaPerformanceLogger7).setLastPlayingEventTime(this.$VideoPlayerShakaPerformanceLogger6).setLiveheadDelta(this.getLiveheadDelta()).setPushed(0).setResult("success").setAccessToken(this.$VideoPlayerShakaPerformanceLogger13).setVideoPlaybackExperienceIssue(c.$VideoPlayerShakaPerformanceLogger25).setClientTimeBegin(e).setClientTimeEnd(e).setIsDrm(this.$VideoPlayerShakaPerformanceLogger26).setPlayerInstanceCount(this.$VideoPlayerShakaPerformanceLogger28);var l=this,m=f.setState;f.setState=function(a){a!==this.$VideoPlayerShakaPerformanceLogger5&&a==="playing"?l.$VideoPlayerShakaPerformanceLogger6=Date.now():a!=="playing"&&(l.$VideoPlayerShakaPerformanceLogger6=null);l.$VideoPlayerShakaPerformanceLogger5=a;return m.call(this,a)};f.updateState=function(a){return this.getState()==l.$VideoPlayerShakaPerformanceLogger5?this.setState(a):this};var n=f.setError;f.setError=function(a){typeof a==="object"?a instanceof b("oz-player/utils/OzError")?(this.setResult("failed"),this.setCode(a.getExtra().code),n.call(this,a.getType())):(a.type==="aborted"||a.type==="delay"?this.setResult("aborted"):a.type==="paused"?this.setResult("paused"):(this.setResult("failed"),n.call(this,a.type)),this.setCode(a.status||a.errorRawTransportStatus)):n.call(this,a);return this};var o=f.setManifestType;f.setManifestType=function(a){d.$VideoPlayerShakaPerformanceLogger17=a;return o.call(f,a)};return f};d.getOperationLogger=function(a){a=this.createOperationLogger(a);this.setOperationContext(a);return a};d.createOperationLogger=function(a){var c=this,d=this.getEventLogger(a),e=d.setResource;d.setResource=function(a){return e.call(d,a)};var f=d.log,g=this,h=!1,j=null;d.log=function(){if(h)return;b("clearTimeout")(j);var c=Date.now();this.setClientTimeEnd(c);var d=b("VideoPlayerMainThreadAvailability").getTimeSinceMainThreadAvailable();this.setTimeSinceMainThreadAvailable(d!=null?Math.round(d):null);g.$VideoPlayerShakaPerformanceLogger31(d);g.$VideoPlayerShakaPerformanceLogger22=c;a==="buffering"&&(g.$VideoPlayerShakaPerformanceLogger7=Date.now());h=!0;d=this.getType();d&&(g.$VideoPlayerShakaPerformanceLogger27[d+a]=(g.$VideoPlayerShakaPerformanceLogger27[d+a]||0)+1,this.setMediastreamEventCount(g.$VideoPlayerShakaPerformanceLogger27[d+a]));return f.call(this)};d.start=function(){j=b("setTimeoutAcrossTransitions")(function(){j=null,d.setResult("timeout"),d.log()},i);return d};d.setWasPrefetchCacheHit=function(a){return d};d.setLiveheadPosition=function(a){c.$VideoPlayerShakaPerformanceLogger8=a;d.setLiveheadDelta(c.getLiveheadDelta());return d};var k=d.setLiveheadSeqNum;d.setLiveheadSeqNum=function(a){c.$VideoPlayerShakaPerformanceLogger9=a;return k.call(d,a)};var l=d.setDynamicBitrate;d.setDynamicBitrate=function(a){a=Number(a)||null;c.setDynamicBitrate(a);return l.call(d,a)};var m=d.setLowestQualityRepresentationID;d.setLowestQualityRepresentationID=function(a){c.$VideoPlayerShakaPerformanceLogger18=a;return m.call(d,a)};return d};d.$VideoPlayerShakaPerformanceLogger31=function(a){var c=b("VideoPlayerShakaGlobalConfig").getNumber("main_thread_blocked_event_threshold",200);if(a==null||c===0||this.$VideoPlayerShakaPerformanceLogger22===0||a<c||this.$VideoPlayerShakaPerformanceLogger23<a){this.$VideoPlayerShakaPerformanceLogger23=Number(a);return}this.getEventLogger("main_thread_blocked").setClientTimeEnd(this.$VideoPlayerShakaPerformanceLogger22).setClientTimeBegin(Math.round(this.$VideoPlayerShakaPerformanceLogger22-this.$VideoPlayerShakaPerformanceLogger23)).log();this.$VideoPlayerShakaPerformanceLogger23=Number(a)};d.setDynamicBitrate=function(a){this.$VideoPlayerShakaPerformanceLogger19=a!=null?Math.round(a):null};return c}(b("oz-player/loggings/OzPerfLoggerProviderBase"));a.$VideoPlayerShakaPerformanceLogger25=null;e.exports=a}),null);
__d("useVideoPlayerShakaPerformanceLoggerStatic",["VideoPlayerShakaPerformanceLogger"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("VideoPlayerShakaPerformanceLogger")}e.exports=a}),null);
__d("WebWorkerTransferPromise",["invariant","Promise"],(function(a,b,c,d,e,f,g){a={expectPromise:function(a){var c=new(b("Promise"))(function(b,c){function d(e){e instanceof MessageEvent||g(0,1465);e=e.data;e||g(0,1466);var f=e.type;e=e.data;switch(f){case"resolve":b(e);break;case"reject":c(e);break;default:throw new Error("Expected a WebWorkerTransferPromise, but didn't receive one.")}a.removeEventListener("message",d)}a.addEventListener("message",d)});return c},sendPromise:function(a,b){function c(b){a.postMessage({type:"resolve",data:b})}function d(b){a.postMessage({type:"reject",data:b})}b(c,d)}};e.exports=a}),null);
__d("CEA608ExtractorWebWorker",["CEA608ExtractorWorkerResource","WebWorker","WebWorkerTransferPromise"],(function(a,b,c,d,e,f){var g=null;function h(){g||(g=new(b("WebWorker"))(b("CEA608ExtractorWorkerResource")).setAllowCrossPageTransition(!0).execute());return g}a={isSupported:function(){return b("WebWorker").isMessageChannelSupported()},extract:function(a){var c=h().createMessageChannel(a);return b("WebWorkerTransferPromise").expectPromise(c)["finally"](function(){return c.close()})},prepare:function(){h()}};e.exports=a}),null);
__d("VideoPlayerCea608CaptionsSource",["requireCond","cr:1141468"],(function(a,b,c,d,e,f){"use strict";e.exports=b("cr:1141468")}),null);
__d("VideoPlayerCea608Command",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({TEXT:"text",PAC:"pac",MIDROW:"midrow",CARRIAGE_RETURN:"carriage_return",START_ROLL_UP_2:"start_roll_up_2",START_ROLL_UP_3:"start_roll_up_3",START_ROLL_UP_4:"start_roll_up_4",END_OF_CAPTION:"end_of_caption",ERASE_DISPLAY_MEMORY:"erase_display_memory",ERASE_NON_DISPLAY_MEMORY:"erase_non_display_memory",BACKSPACE:"backspace",DELETE_TIL_END_OF_ROW:"delete_til_end_of_row",RESUME_DIRECT_CAPTIONING:"resume_direct_captioning",RESUME_CAPTION_LOADING:"resume_caption_loading",TAB_OFFSET:"tab_offset",FLASH_ON:"flash_on",__DEPRECATED__ALARM_OFF:"alarm_off",__DEPRECATED__ALARM_ON:"alarm_on",__DEPRECATED__TEXT_RESTART:"text_restart",__DEPRECATED__RESUME_TEXT_DISPLAY:"resume_text_display"});e.exports=a}),null);
__d("extractCEA608",["CEA608ExtractorWebWorker","JSResource","gkx"],(function(a,b,c,d,e,f){var g=null,h=b("gkx")("678908");function a(a){if(h&&b("CEA608ExtractorWebWorker").isSupported())return b("CEA608ExtractorWebWorker").extract(a);g||(g=b("JSResource")("CEA608Extractor").__setRef("extractCEA608").load());return g.then(function(b){return b.extract(a)})}a.prepare=function(){if(!h||!b("CEA608ExtractorWebWorker").isSupported())return;b("CEA608ExtractorWebWorker").prepare()};e.exports=a}),null);
__d("VideoPlayerCea608CaptionsSourceImplFacebook",["VideoPlayerCea608Command","emptyFunction","extractCEA608","gkx"],(function(a,b,c,d,e,f){"use strict";var g=!1;a=b("emptyFunction");var h=15,i=32,j=function(){function a(){this.$2=0;this.$1=new Array(i);for(var a=0;a<i;++a)this.$1[a]=" "}var b=a.prototype;b.setPos=function(a){this.$2=Math.max(0,Math.min(i-1,a))};b.movePos=function(a){a=this.$2+a;this.setPos(a)};b.backspace=function(){this.movePos(-1),this.$1[this.$2]=" "};b.putCharacter=function(a){var b=this.$2;b<i&&(this.$1[b]=a,this.movePos(1))};b.clearFromPos=function(a){for(var a=a;a<i;a++)this.$1[a]=" "};b.clear=function(){this.clearFromPos(0),this.$2=0};b.clearToEndOfRow=function(){this.clearFromPos(this.$2)};b.getCharacters=function(){return this.$1};b.getPos=function(){return this.$2};return a}(),k=function(){function a(){this.$2=h-1;this.$3=null;this.$1=new Array(h);for(var a=0;a<h;++a)this.$1[a]=new j()}var b=a.prototype;b.clear=function(){this.$1.forEach(function(a,b){a.clear()})};b.setPAC=function(a){var b=a.row-1;this.$3!=null&&b<this.$3-1&&(b=this.$3-1);this.$2=b;b=this.$1[this.$2];a.indent!==null&&b.setPos(a.indent)};b.putCharacter=function(a){var b=this.$1[this.$2];b.putCharacter(a)};b.movePos=function(a){var b=this.$1[this.$2];b.movePos(a)};b.setRollupSize=function(a){this.$3=a};b.rollup=function(){if(this.$3==null)return;var a=this.$2+1-this.$3;a=this.$1.splice(a,1)[0];a.clear();this.$1.splice(this.$2,0,a)};b.backspace=function(){this.$1[this.$2].backspace()};b.clearToEndOfRow=function(){this.$1[this.$2].clearToEndOfRow()};b.getRows=function(){return this.$1.slice()};b.getCurrentRowIndex=function(){return this.$2};return a}();function l(a){return a.getRows().map(function(a){return a.getCharacters().join("")})}function m(a){var b=a.getCurrentRowIndex();return"\n"+a.getRows().map(function(a,c){var d=a.getPos();return String(c+1).padStart(3," ")+" ["+a.getCharacters().join("")+"]"+(c===b?"< ":"  ")+String(d).padStart(2," ")}).join("\n")+"\n"}var n=function(){function a(){}var c=a.prototype;c.handleCommand=function(a,c,d){switch(a.type){case b("VideoPlayerCea608Command").TEXT:d.putCharacter(a.data.character);return!1;case b("VideoPlayerCea608Command").TAB_OFFSET:d.movePos(a.data.tabOffset);return!1;case b("VideoPlayerCea608Command").CARRIAGE_RETURN:return!1;case b("VideoPlayerCea608Command").BACKSPACE:d.backspace();return!1;case b("VideoPlayerCea608Command").DELETE_TIL_END_OF_ROW:d.clearToEndOfRow();return!1;case b("VideoPlayerCea608Command").ERASE_DISPLAY_MEMORY:c.clear();return!0;case b("VideoPlayerCea608Command").ERASE_NON_DISPLAY_MEMORY:d.clear();return!1;case b("VideoPlayerCea608Command").PAC:d.setPAC(a.data.pacData);return!1;default:return!1}};return a}(),o=function(){function a(){}var c=a.prototype;c.handleCommand=function(a,c,d){switch(a.type){case b("VideoPlayerCea608Command").TEXT:c.putCharacter(a.data.character);return!0;case b("VideoPlayerCea608Command").TAB_OFFSET:c.movePos(a.data.tabOffset);return!1;case b("VideoPlayerCea608Command").CARRIAGE_RETURN:return!1;case b("VideoPlayerCea608Command").BACKSPACE:c.backspace();return!0;case b("VideoPlayerCea608Command").DELETE_TIL_END_OF_ROW:c.clearToEndOfRow();return!0;case b("VideoPlayerCea608Command").ERASE_DISPLAY_MEMORY:c.clear();return!0;case b("VideoPlayerCea608Command").PAC:c.setPAC(a.data.pacData);return!1;default:return!1}};return a}(),p=function(){function a(){}var c=a.prototype;c.handleCommand=function(a,b,c){return this.$1(a,b,c)};c.$1=function(a,c,d){switch(a.type){case b("VideoPlayerCea608Command").TEXT:c.putCharacter(a.data.character);return!0;case b("VideoPlayerCea608Command").TAB_OFFSET:c.movePos(a.data.tabOffset);return!1;case b("VideoPlayerCea608Command").CARRIAGE_RETURN:c.rollup();return!0;case b("VideoPlayerCea608Command").BACKSPACE:c.backspace();return!0;case b("VideoPlayerCea608Command").DELETE_TIL_END_OF_ROW:c.clearToEndOfRow();return!0;case b("VideoPlayerCea608Command").ERASE_DISPLAY_MEMORY:c.clear();return!0;case b("VideoPlayerCea608Command").ERASE_NON_DISPLAY_MEMORY:d.clear();return!1;case b("VideoPlayerCea608Command").PAC:c.setPAC(a.data.pacData);return!1;default:return!1}};return a}();c=function(){function a(a){var b=a.onCaptionsLoaded;a=a.onCaptionsChanged;this.$1=null;this.$2=null;this.$3=[];this.$4=null;this.$5=new k();this.$6=new k();this.$7=new n();this.$8=null;this.$9=null;this.$10={changedCount:0,commandsHandledCount:0,fragmentsInsertedCount:0,fragmentsProcessedCount:0,processStartedCount:0,processedCount:0,timeUpdateHandledCount:0};this.$1=b;this.$2=a}var c=a.prototype;c.appendFragments_DEPRECATED=function(a){this.$11(a)};c.processBytes=function(a){var c=this;this.$10.processStartedCount++;return b("extractCEA608")({debugLogEnabled:g,timescale:a.timescale,videoBytes:a.videoBytes}).then(function(a){c.$10.processedCount++,c.$11(a)})};c.handleTimeUpdate=function(a){this.$12(a)};c.getStagingScreenForTestSnapshot=function(){return m(this.$6)};c.getDisplayScreenForTestSnapshot=function(){return m(this.$5)};c.getCurrentScreenRepresentation=function(){return{rows:this.$8,styles:this.$9}};c.destroy=function(){this.$1=null,this.$2=null,this.$3.length=0,this.$4=null,this.$5.clear(),this.$6.clear(),this.$8=null,this.$9=null,this.$10={changedCount:0,commandsHandledCount:0,fragmentsInsertedCount:0,fragmentsProcessedCount:0,processStartedCount:0,processedCount:0,timeUpdateHandledCount:0}};c.$11=function(a){var b=this,c=this.$1;c&&(c(),this.$1=null);a.forEach(function(a){var c=a.presentationTime,d;for(d=b.$3.length;d>0;d--){var e=d===b.$3.length?Number.MAX_VALUE:b.$3[d].presentationTime,f=b.$3[d-1].presentationTime;if(c<e&&c>=f)break}b.$10.fragmentsInsertedCount++;b.$3.splice(d,0,a)})};c.$12=function(a){this.$10.timeUpdateHandledCount++;if(!this.$3.length||this.$3[0].presentationTime>a)return;var c=0,d=!1;for(;c<this.$3.length;++c){var e=this.$3[c];if(e.presentationTime>a)break;this.$10.fragmentsProcessedCount++;if(this.$4!=null&&(e.type!==b("VideoPlayerCea608Command").TEXT||e.data.isSpecial===!0)&&JSON.stringify(e)===JSON.stringify(this.$4))continue;this.$4=e;e=this.$13(e);e&&(d=!0);this.$10.commandsHandledCount++}this.$3.splice(0,c);this.$14(l(this.$5),{textAlignment:this.$15(this.$7)})};c.$13=function(a){switch(a.type){case b("VideoPlayerCea608Command").RESUME_CAPTION_LOADING:this.$7=new n();return!1;case b("VideoPlayerCea608Command").RESUME_DIRECT_CAPTIONING:this.$7=new o();this.$5=this.$6;this.$6=new k();return!0;case b("VideoPlayerCea608Command").END_OF_CAPTION:if(this.$7 instanceof n){var c=this.$6;this.$6=this.$5;this.$5=c;return!0}return!1;case b("VideoPlayerCea608Command").START_ROLL_UP_2:this.$5.setRollupSize(2);this.$7=new p();return!1;case b("VideoPlayerCea608Command").START_ROLL_UP_3:this.$5.setRollupSize(3);this.$7=new p();return!1;case b("VideoPlayerCea608Command").START_ROLL_UP_4:this.$5.setRollupSize(4);this.$7=new p();return!1}c=this.$7.handleCommand(a,this.$5,this.$6);return c};c.$15=function(a){if(a instanceof n)return"center";else if(a instanceof o)return"center";else if(a instanceof p)return"left";else return"center"};c.$14=function(a,b){if(this.$8==null||this.$8.length!==a.length||this.$8.some(function(b,c){return b!==a[c]})){this.$10.changedCount++;var c=this.$2;c&&c(a,b)}this.$8=a;this.$9=b};return a}();e.exports=c}),null);