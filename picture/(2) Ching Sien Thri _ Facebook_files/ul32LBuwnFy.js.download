if (self.CavalryLogger) { CavalryLogger.start_js(["VlLbI"]); }

__d("FriendingCometFriendRequestSendMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"},{defaultValue:null,kind:"LocalArgument",name:"scale"}],b=[{kind:"Variable",name:"data",variableName:"input"}],c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"friendship_status",storageKey:null},e=[{kind:"Literal",name:"action_type",value:"FRIEND"},{kind:"Literal",name:"render_location",value:"WWW_COMET_PROFILE"}],f={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"FriendingCometFriendRequestSendMutation",selections:[{alias:null,args:b,concreteType:"FriendRequestSendResponsePayload",kind:"LinkedField",name:"friend_request_send",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"friend_requestees",plural:!0,selections:[c,d,{alias:null,args:e,concreteType:null,kind:"LinkedField",name:"profile_action",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ProfileActionMutationUtils_action"}],storageKey:'profile_action(action_type:"FRIEND",render_location:"WWW_COMET_PROFILE")'},{args:null,kind:"FragmentSpread",name:"ProfileCometBanner_user"}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"FriendingCometFriendRequestSendMutation",selections:[{alias:null,args:b,concreteType:"FriendRequestSendResponsePayload",kind:"LinkedField",name:"friend_request_send",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"friend_requestees",plural:!0,selections:[c,d,{alias:null,args:e,concreteType:null,kind:"LinkedField",name:"profile_action",plural:!1,selections:[f,{kind:"TypeDiscriminator",abstractKey:"__isProfileAction"},{alias:null,args:[{kind:"Literal",name:"icon_color",value:"fds-black"},{kind:"Literal",name:"icon_size",value:"16"},{kind:"Literal",name:"icon_variant",value:"filled"},{kind:"Variable",name:"scale",variableName:"scale"}],concreteType:"Image",kind:"LinkedField",name:"icon_image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},c,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_optimistic_update",storageKey:null}]}],storageKey:'profile_action(action_type:"FRIEND",render_location:"WWW_COMET_PROFILE")'},{alias:null,args:[{kind:"Literal",name:"supported",value:["ProfilePlusAdminNotice","ProfileAppealBanner","ProfileBanner","ProfileEscapeHatch","ProfilePYMKBanner"]}],concreteType:null,kind:"LinkedField",name:"comet_profile_banner",plural:!1,selections:[f,{kind:"InlineFragment",selections:[{documentName:"ProfileCometBanner_user",fragmentName:"ProfilePlusCometAdminNotice_cometProfileBanner",fragmentPropName:"cometProfileBanner",kind:"ModuleImport"}],type:"ProfilePlusAdminNotice",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"ProfileCometBanner_user",fragmentName:"ProfileCometAppealBanner_cometProfileBanner",fragmentPropName:"cometProfileBanner",kind:"ModuleImport"}],type:"ProfileAppealBanner",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"ProfileCometBanner_user",fragmentName:"ProfileCometBannerGeneric_cometProfileBanner",fragmentPropName:"cometProfileBanner",kind:"ModuleImport"}],type:"ProfileBanner",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"ProfileCometBanner_user",fragmentName:"ProfileCometEscapeHatch_cometProfileBanner",fragmentPropName:"cometProfileBanner",kind:"ModuleImport"}],type:"ProfileEscapeHatch",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"ProfileCometBanner_user",fragmentName:"FriendingCometProfilePYMKHScroll_cometProfileBanner",fragmentPropName:"cometProfileBanner",kind:"ModuleImport"}],type:"ProfilePYMKBanner",abstractKey:null},{kind:"InlineFragment",selections:[c],type:"Node",abstractKey:"__isNode"}],storageKey:'comet_profile_banner(supported:["ProfilePlusAdminNotice","ProfileAppealBanner","ProfileBanner","ProfileEscapeHatch","ProfilePYMKBanner"])'}],storageKey:null}],storageKey:null}]},params:{id:"2625297940904924",metadata:{},name:"FriendingCometFriendRequestSendMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("ProfileActionMutationUtils_action.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"ProfileActionMutationUtils_action",selections:[{alias:null,args:[{kind:"Literal",name:"icon_color",value:"fds-black"},{kind:"Literal",name:"icon_size",value:"16"},{kind:"Literal",name:"icon_variant",value:"filled"},{kind:"Variable",name:"scale",variableName:"scale"}],concreteType:"Image",kind:"LinkedField",name:"icon_image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_optimistic_update",storageKey:null}]}],type:"ProfileAction",abstractKey:"__isProfileAction"};e.exports=a}),null);
__d("ProfileCometActionFriendRequestHandler_handler$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null};return{kind:"SplitOperation",metadata:{},name:"ProfileCometActionFriendRequestHandler_handler$normalization",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"profile_action",plural:!1,selections:[a,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"profile_owner",plural:!1,selections:[b,{alias:null,args:null,kind:"ScalarField",name:"friendship_status",storageKey:null}],storageKey:null},b,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"restrictable_profile_owner",plural:!1,selections:[a,{kind:"InlineFragment",selections:[b,c,d],type:"RestrictedUser",abstractKey:null},{kind:"InlineFragment",selections:[b,{alias:null,args:null,kind:"ScalarField",name:"gender",storageKey:null},c,d],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[b],type:"Node",abstractKey:"__isNode"}],storageKey:null}],type:"ProfileActionFriendRequest",abstractKey:null}],storageKey:null}]}}();e.exports=a}),null);
__d("ProfileCometActionFriendRequestHandler_handler.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProfileCometActionFriendRequestHandler_handler",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"profile_action",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"profile_owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"friendship_status",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"ProfileCometActiveFriendMenu_action"},{args:null,kind:"FragmentSpread",name:"ProfileCometIncomingFriendRequestMenu_action"}],storageKey:null}],type:"ProfileActionFriendRequestHandler",abstractKey:null};e.exports=a}),null);
__d("FriendingCometErrorHandler.react",["fbt","FriendRequestError","JSResource","React","SilenceableErrorMessageUtils","cometPushToast","useCometLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";c=b("React");var h=c.useCallback,i=b("SilenceableErrorMessageUtils").getMetadataFromError,j=b("SilenceableErrorMessageUtils").shouldHideErrorMessage,k=b("cometPushToast").cometPushErrorToast,l=b("JSResource")("FriendingCometErrorDialog.react").__setRef("FriendingCometErrorHandler.react");function a(a){var c=b("useCometLazyDialog")(l),d=c[0],e=h(function(c){var f=i(c);if(j(f))return;c.name==="NetworkTransportError"?k({message:g._("Connection error. Please check your Internet connection.")},5e3):(c.code===b("FriendRequestError").SELF_OVER_FRIEND_LIMIT||c.code===b("FriendRequestError").SELF_OVER_FRIEND_LIMIT_SUBSCRIBED||c.code===b("FriendRequestError").SIGMA_WARN)&&d({addFriendErrorHandler:e,addFriendId:a.addFriendId,addFriendSource:a.addFriendSource,error:c})},[a.addFriendId,a.addFriendSource,d]);return e}e.exports={useFriendingErrorHandler:a}}),null);
__d("ProfileActionMutationUtils",["fbt","CometRelay","WebPixelRatio","ProfileActionMutationUtils_action.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;b("CometRelay").graphql;h!==void 0?h:h=b("ProfileActionMutationUtils_action.graphql");a={getFakeProfileActionID:function(a,b,c,d){return btoa("profile_action"+a+":"+b+":"+((a=c)!=null?a:"")+":"+((b=d)!=null?b:""))},getOptimisticActionForFriendshipStatus:function(a){var c="";switch(a){case"ARE_FRIENDS":c=g._("Friends").toString();break;case"CAN_REQUEST":c=g._("Add Friend").toString();break;case"INCOMING_REQUEST":c=g._("Respond").toString();break;case"OUTGOING_REQUEST":c=g._("Cancel Request").toString();break}return{__typename:"ProfileActionFriendRequest",icon_image:{height:16*b("WebPixelRatio").get(),scale:b("WebPixelRatio").get(),uri:null,width:16*b("WebPixelRatio").get()},is_optimistic_update:!0,title:{text:c}}}};e.exports=a}),null);
__d("FriendingCometFriendRequestSendMutation",["CometRelay","ProfileActionMutationUtils","WebPixelRatio","FriendingCometFriendRequestSendMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("CometRelay").commitMutation;b("CometRelay").graphql;var i=g!==void 0?g:g=b("FriendingCometFriendRequestSendMutation.graphql");function a(a,c,d,e,f,g){var j=b("ProfileActionMutationUtils").getOptimisticActionForFriendshipStatus("OUTGOING_REQUEST");return h(a,{mutation:i,onError:e,optimisticResponse:{friend_request_send:{friend_requestees:[{comet_profile_banner:null,friendship_status:"OUTGOING_REQUEST",id:c,profile_action:babelHelpers["extends"]({},j,{id:b("ProfileActionMutationUtils").getFakeProfileActionID(c,1)})}]}},variables:{input:{friend_requestee_ids:[c],people_you_may_know_location:f,refs:[g],source:d},scale:b("WebPixelRatio").get()}})}e.exports={commit:a}}),null);
__d("ProfileCometActionFriendRequestHandler.react",["CometLazyPopoverTrigger.react","CometRelay","FriendingCometErrorHandler.react","FriendingCometFriendRequestSendMutation","JSResource","React","promiseDone","recoverableViolation","ProfileCometActionFriendRequestHandler_handler.graphql"],(function(a,b,c,d,e,f){"use strict";var g;b("CometRelay").graphql;var h=b("CometRelay").useFragment,i=b("CometRelay").useRelayEnvironment,j=b("FriendingCometErrorHandler.react").useFriendingErrorHandler,k=b("React");c=b("React");var l=c.useCallback,m=b("JSResource")("ProfileCometActiveFriendMenu.react").__setRef("ProfileCometActionFriendRequestHandler.react"),n=b("JSResource")("ProfileCometIncomingFriendRequestMenu.react").__setRef("ProfileCometActionFriendRequestHandler.react"),o=b("JSResource")("FriendingCometFriendRequestCancelMutation").__setRef("ProfileCometActionFriendRequestHandler.react");function a(a){var c,d,e=a.children,f=a.handler;a=a.popoverPosition;var p=i();f=h(g!==void 0?g:g=b("ProfileCometActionFriendRequestHandler_handler.graphql"),f);f=f.profile_action;var q=(f==null?void 0:(c=f.profile_owner)==null?void 0:c.id)||"0";q==="0"&&b("recoverableViolation")("Missing profile ID","profile_comet");var r=j({addFriendId:q,addFriendSource:"profile_button"});c=l(function(){b("FriendingCometFriendRequestSendMutation").commit(p,q,"profile_button",r)},[p,r,q]);var s=l(function(){b("promiseDone")(o.load().then(function(a){a=a.commit;a(p,q,"profile",r)}))},[p,r,q]);d=f==null?void 0:(d=f.profile_owner)==null?void 0:d.friendship_status;if(d==null){b("recoverableViolation")("Failed to fetch friendship status for profile "+q,"profile_comet");return null}var t=null;switch(d){case"ARE_FRIENDS":t=m;break;case"CAN_REQUEST":return e({onPress:c});case"INCOMING_REQUEST":t=n;break;case"OUTGOING_REQUEST":return e({onPress:s});case"CANNOT_REQUEST":return null;default:b("recoverableViolation")("Unknown friendship status "+d+" for profile "+q,"profile_comet");return null}return!t||!f?e({}):k.jsx(b("CometLazyPopoverTrigger.react"),{autoAlign:!0,popoverProps:{action:f},popoverResource:t,position:a,preloadTrigger:"button",children:function(a,b,c,d,f,g){return e({onHoverIn:d,onHoverOut:f,onPress:b,onPressIn:g,ref:a})}})}e.exports=a}),null);